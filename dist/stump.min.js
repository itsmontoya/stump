export function stump(t){const e=document.getElementById(t.targetID);e.innerHTML="";let o={...t.state};function r(i){o=i(o),n(r,e,t.view(o),e.children[0])}n(r,e,t.view(t.state),void 0,0),t.dispatchers.forEach(t=>t(r))}export const c=t=>({type:t.type,children:t.children||[],options:t.options||{}});export const response=t=>n=>n(t);export const action=t=>(n,e)=>e(e=>t(n,e));function t(n,e){if("string"==typeof e)return document.createTextNode(e);const r=document.createElement(e.type);return function(n,e,o){if(!o)return;o.map(e=>t(n,e)).forEach(e.appendChild.bind(e))}(n,r,e.children),o(n,r,e.options),r}function n(n,r,u,s,f=0){if(s)if(u)if(function(t,n){if("string"==typeof t)return function(t,n){return t!==n.nodeValue}(t,n);if(function(t,n){return typeof t!=typeof n}(t,n))return!0;if(function(t,n){return t.type!==function(t){if(!t)return"";const n=t=t;if(!n.tagName)return"";return n.tagName.toLowerCase()}(n)}(t,n))return!0;return!1}(u,s)){const e=t(n,u);r.replaceChild(e,i(r,f))}else!function(t,n,o){if("string"==typeof n)return;const r=n.children.length,i=o.childNodes.length;r>i?function(t,n,o,r){for(let i=0;i<r;i++)e(t,n,o,i)}(t,n,o,r):function(t,n,o,r){for(let i=r-1;i>-1;i--)e(t,n,o,i)}(t,n,o,i)}(n,u,s),function(t,n,e){if("string"==typeof n)return;const r=n;(function(t,n){t.attributes;for(let e=0;e<t.attributes.length;e++)c(t,n,e)})(e,r.options),function(t){const n=t;if(!n.__stumpFns)return;for(;n.__stumpFns.length;){let t=n.__stumpFns.pop();n[t]=void 0}}(e),o(t,e,r.options)}(n,u,s);else r.removeChild(i(r,f));else{const e=t(n,u);r.appendChild(e)}}function e(t,e,o,r){var u;n(t,o,(u=r,e.children[u]),i(o,r),r)}function o(t,n,e){for(let o in e)r(t,n,e,o)}function r(t,n,e,o){const r=function(t){switch(t){case"contenteditable":return"contentEditable";default:return t}}(o),i=function(t,n,e){const o=n[e];if("style"===e)return function(t){var n=[];for(let e in t)n.push(`${e}: ${t[e]};`);return n.join(" ")}(o);if(u(e)){return((t,n)=>e=>n(e,t))(t,o)}return o}(t,e,o);u(o)?function(t,n,e){const o=t;o[n]=e,void 0===o.__stumpFns&&(o.__stumpFns=[]);o.__stumpFns.push(n)}(n,o,i):n.setAttribute(r,i)}function i(t,n){return t.childNodes[n]}function u(t){return"on"===t.substr(0,2)}function c(t,n,e){const o=t.attributes[e].name;n[o]||t.removeAttribute(o)}